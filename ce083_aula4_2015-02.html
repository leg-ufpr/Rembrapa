<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">



<title></title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/default.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>




</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.0/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script src="libs/navigation-1.0/codefolding.js"></script>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {
    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: "h1.title, .toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">LEG</a>
      <!-- <a class="navbar-brand" href="#"> -->
      <!--   <img alt="LEG" src="img/leg.png"> -->
      <!-- </a> -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Início</a></li>
        <li class="dropdown">
          <a href="authoring" class="dropdown-toggle"
          data-toggle="dropdown" role="button"
          aria-expanded="false">Sumário <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Introdução</li>
            <li><a href="ce083_aula2_2015-02.html">Funções, objetos e
            classes</a></li>
            <li><a href="ce083_aula3_2015-02.html">Manipulação de
            objetos</a></li>
            <li><a href="ce083_aula4_2015-02.html">Entrada de
            dados</a></li>
            <li><a href="ce083_aula5_2015-02.html">Análise exploratória
                de dados</a></li>
             <li><a href="ce083_aula6_2015-02.html">Gráficos</a></li>
             <li><a href="ce083_aula7_2015-02.html">Probabilidade</a></li>
             <li class="divider"></li>
          </ul>
        </li>
      </ul>
      <div class="navbar-collapse collapse navbar-right" >
        <ul class="nav navbar-nav">
          <li><a class="btn btn-link" href="https://github.com/leg-ufpr/Rembrapa" role="button">
              <i class="fa fa-github"></i> GitHub </a>
          </li>
        </ul>
      </div><!--/.navbar-right -->
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="text-muted">Code</span> <span class="text-muted caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All</a></li>
</ul>
</div>


</div>


<div id="entrada-de-dados-no-r" class="section level1">
<h1>Entrada de dados no R</h1>
<p>Pode-se entrar com dados no R de diferentes formas. O formato mais adequado vai depender do tamanho do conjunto de dados, e se os dados já existem em outro formato para serem importados ou se serão digitados diretamente no R.</p>
<p>A seguir são descritas formas de entrada de dados com indicação de quando cada uma das formas deve ser usada. Os três primeiros casos são adequados para entrada de dados diretamente no R, os seguintes descrevem como importar dados já disponíveis eletronicamentede um arquivo texto, em outro sistema ou no próprio R.</p>
<div id="entrada-de-dados-diretamente-no-r" class="section level2">
<h2>Entrada de dados diretamente no R</h2>
<div id="vetores" class="section level3">
<h3>Vetores</h3>
<p>A forma mais básica de entrada de dados no R é através da função <code>c()</code> (como já vimos). A partir dela pode se criar os outros tipos de objetos como listas e data frames.</p>
<p>As funções básicas de entrada de dados são:</p>
<ul>
<li><code>c()</code></li>
<li><code>rep()</code></li>
<li><code>seq()</code> ou <code>:</code></li>
</ul>
<p>A partir destas funções básicas podemos criar objetos de classes mais específicas com</p>
<ul>
<li><code>matrix()</code></li>
<li><code>list()</code></li>
<li><code>data.frame()</code></li>
</ul>
</div>
<div id="entrada-via-teclado" class="section level3">
<h3>Entrada via teclado</h3>
<div id="usando-a-funcao-scan" class="section level4">
<h4>Usando a função <code>scan()</code></h4>
<p>Esta função lê dados diretamento do console, isto é, coloca o R em modo <em>prompt</em> onde o usuário deve digitar cada dado seguido da tecla <kbd>Enter</kbd>. Para encerrar a entrada de dados basta digitar <kbd>Enter</kbd> duas vezes consecutivas.</p>
<p>Veja o seguinte resultado:</p>
<pre class="r"><code>y &lt;- scan()

1: 11
2: 24
3: 35
4: 29
5: 39
6: 47
7: 
Read 6 items</code></pre>
<pre class="r"><code>y</code></pre>
<pre><code>## [1] 11 24 35 29 39 47</code></pre>
<p>Os dados também podem ser digitados em sequência, desde que separados por um espaço,</p>
<pre class="r"><code>y &lt;- scan()

1: 11 24
3: 35 29
5: 39 47
7: 
Read 6 items</code></pre>
<pre class="r"><code>y</code></pre>
<pre><code>## [1] 11 24 35 29 39 47</code></pre>
<p>Este formato é mais ágil que o anterior (com <code>c()</code>, por exemplo) e é conveniente para digitar vetores longos. Esta função pode também ser usada para ler dados de um arquivo ou conexão, aceitando inclusive endereços de URLs (endereços da <em>web</em>) o que iremos mencionar em mais detalhes mais adiante.</p>
<p>Por padrão, a função <code>scan()</code> aceita apenas valores numéricos como entrada (lembre-se que vetores só podem ter elementos da mesma classe). Para alterar a classe de objeto de entrada, precisamos especificar o argumento <code>what</code> de <code>scan()</code>. Por exemplo, para entrar com um vetor de caracteres, fazemos</p>
<pre class="r"><code>x &lt;- scan(what = &quot;character&quot;)

1: a
2: b
3: c
4: 
Read 3 items</code></pre>
<pre class="r"><code>x</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>Outras classe possíveis para o argumento <code>what</code> são: <code>logical</code>, <code>integer</code>, <code>numeric</code>, <code>complex</code>, <code>character</code>, <code>raw</code> e <code>list</code>.</p>
</div>
</div>
</div>
<div id="exercicios" class="section level2">
<h2>Exercícios</h2>
<ol style="list-style-type: decimal">
<li>Usnado a função <code>scan()</code> crie objetos para armazenar os seguintes valores:</li>
</ol>
<ul>
<li>19, 13, 19, 23, 18, 20, 25, 14, 20, 18, 22, 18, 23, 14, 19</li>
<li><code>joaquina</code>, <code>armação</code>, <code>praia brava</code>, <code>praia mole</code>, <code>morro das pedras</code></li>
<li><code>TRUE</code>, <code>TRUE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>TRUE</code></li>
</ul>
<div id="uso-da-funcao-readlines" class="section level4">
<h4>Uso da função <code>readLines()</code></h4>
<p>Esta função é particularmente útil para ler entradas na forma de texto (<em>strings</em>). Por exemplo, para ler uma linha a ser digitada na tela do R, siga o comando abaixo e digite o texto indicado. Ao terminar pressione a tecla <kbd>Enter</kbd> e o texto será armazanado no objeto texto.</p>
<pre class="r"><code>texto &lt;- readLines(n = 1) </code></pre>
<pre class="r"><code>Estou digitando no console</code></pre>
<pre class="r"><code>texto</code></pre>
<pre><code>## [1] &quot;Estou digitando no console&quot;</code></pre>
<p>Um possível uso é dentro que funções que solicitem que o usuário responda e/ou entre com informações na medida que são solicitadas. Experimente definir e rodar o função a seguir.</p>
<pre class="r"><code>fn.ex &lt;- function() { 
    cat(&quot;Digite o nome do time de futebol de sua preferência (em letras minúsculas)\n&quot;) 
    time &lt;- readLines(n = 1) 
    if (time == &quot;atletico-pr&quot;) 
        cat(&quot;BOA ESCOLHA!!!\n&quot;) 
    else cat(&quot;Ihh, tá mal de escolha...\n&quot;) 
    return(invisible()) 
}</code></pre>
<pre class="r"><code>fn.ex()</code></pre>
<p>Nesse exemplo, <code>readLines()</code> foi utilizada para efetuar a leitura via teclado, mas a função permite ainda entrada de dados por conexões com outros dispositivos de <em>input</em>. Por exemplo, pode ser utilizada para ler texto de um arquivo. Consulte a documentação da função para maiores detalhes e exemplos.</p>
<!-- #### Usando `textConnection()` -->
<!-- Esta função generaliza a anterior permitindo que se entre com mais de um -->
<!-- campo por linha, gravando o resultado em um data frame. Por exemplo, -->
<!-- ```{r, eval=FALSE} -->
<!-- teste <- textConnection("trat resposta  -->
<!--    a 10  -->
<!--    a 12  -->
<!--    b 15  -->
<!--    b 20  -->
<!--    c 12  -->
<!--    c 5  -->
<!--    d 8  -->
<!--    d 10") -->
<!-- ``` -->
<!-- ```{r, eval=FALSE} -->
<!-- # capture R output: use part of example from help(lm) -->
<!-- zz <- textConnection(object = "foo", open = "w") -->
<!-- ctl <- c(4.17, 5.58, 5.18, 6.11, 4.5, 4.61, 5.17, 4.53, 5.33, 5.14) -->
<!-- trt <- c(4.81, 4.17, 4.41, 3.59, 5.87, 3.83, 6.03, 4.89, 4.32, 4.69) -->
<!-- group <- gl(2, 10, 20, labels = c("Ctl", "Trt")) -->
<!-- weight <- c(ctl, trt) -->
<!-- sink(zz) -->
<!-- anova(lm.D9 <- lm(weight ~ group)) -->
<!-- cat("\nSummary of Residuals:\n\n") -->
<!-- summary(resid(lm.D9)) -->
<!-- sink() -->
<!-- close(zz) -->
<!-- cat(foo, sep = "\n") -->
<!-- ``` -->
</div>
</div>
<div id="entrada-de-dados-em-arquivos-texto" class="section level2">
<h2>Entrada de dados em arquivos texto</h2>
<p>Se os dados já estão disponíveis em formato eletrônico, isto é, já foram digitados em outro programa, voce pode importar os dados para o R sem a necessidade de digitá-los novamente.</p>
<p>A forma mais fácil de fazer isto é usar dados em formato texto (arquivo do tipo ASCII). Por exemplo, se seus dados estão disponíveis em uma planilha eletrônica como LibreOffice Calc, MS Excel ou similar, você pode escolher a opção <kbd>Salvar como…</kbd> e gravar os dados em um arquivo em formato texto. Os dois prncipais formatos de texto são:</p>
<ul>
<li><code>txt</code>: arquivo de texto puro, onde as colunas são separadas geralmente por uma tabulação (<kbd>Tab</kbd>) ou espaço (<kbd>Spc</kbd>)</li>
<li><code>csv</code>: arquivo de texto, onde as colunas são geralmente separadas por vírgula (<em>comma separated value</em>), ou ponto-e-vírgula.</li>
</ul>
<p>Lembra deste ícone?</p>
<p><img src="img/excelcsvgrey.png" width="400px" /></p>
<ul>
<li>É um documento do Microsoft Excel? <strong>Não!</strong></li>
<li>É um arquivo de <strong>texto pleno</strong>, separado por vírgulas (CSV <em>comma separated values</em>)</li>
<li>De fato, o nome do arquivo é <code>final.csv</code> e não <code>final</code></li>
<li>O Excel pode sim abrir este arquivo… assim como milhares de outros programas!</li>
</ul>
<p>No R usa-se <code>scan()</code> mencionada anteriormente, ou então a função mais flexível <code>read.table()</code> para ler os dados de um arquivo texto e armazenar no formato de uma data frame.</p>
<p>Antes de importar para o R:</p>
<ul>
<li>Se houverem valores perdidos, preencha com <code>NA</code>s</li>
<li>A matriz de dados deve formar um bloco só. Se houverem colunas de diferentes comprimentos, preencha com <code>NA</code>s</li>
<li>Salve o arquivo como “valores separados por vírgula” (<code>.csv</code>), mas atenção:
<ul>
<li>Se o separador de decimal for <code>,</code>, o separador de campos será <code>;</code> automaticamente (o que é mais comum nos sistemas em português).</li>
</ul></li>
</ul>
<div id="a-funcao-read.table" class="section level3">
<h3>A função <code>read.table()</code></h3>
<p>O método mais comum de importação de dados para o R, é utilizando a função <code>read.table()</code>. Para importar um arquivo <code>.csv</code> faça:</p>
<pre class="r"><code>dados &lt;- read.table(&quot;dados/crabs.csv&quot;, header = TRUE,
                    sep = &quot;;&quot;, dec = &quot;,&quot;)</code></pre>
<p>Argumentos:</p>
<ul>
<li><code>&quot;crabs.csv&quot;</code>: nome do arquivo. (Considerando que o arquivo <code>crabs.csv</code> está dentro do diretório <code>dados</code>).</li>
<li><code>header = TRUE</code>: significa que a primeira linha do arquivo deve ser inrpretada como os nomes das colunas</li>
<li><code>sep = &quot;;&quot;</code>: o separador de colunas (também pode ser <code>&quot;\t&quot;</code> para tabulação e <code>&quot;&quot;</code> para espaços)</li>
<li><code>dec = &quot;,&quot;</code>: o separador de decimais</li>
</ul>
<p>As funções <code>read.csv()</code> e <code>read.csv2()</code> são chamadas de <em>wrappers</em> (envelopes) que tornam o usa da função <code>read.table()</code> um pouco mais direta, alterando alguns argumentos. Por exemplo, o comando acima poderia ser substituído por</p>
<pre class="r"><code>dados &lt;- read.csv2(&quot;dados/crabs.csv&quot;)</code></pre>
<p>O objeto criado com as funções <code>read.*()</code> sempre serão da classe <code>data.frame</code>, e quando houverem colunas com caracteres, estas colunas sempre serão da classe <code>factor</code>. Você pode alterar esse padrão usando o argumento <code>stringAsFactors = FALSE</code></p>
<pre class="r"><code>dados2 &lt;- read.csv2(&quot;dados/crabs.csv&quot;, stringsAsFactors = FALSE)</code></pre>
<p>Para conferir a estrutura dos dados importados, usamos a função <code>str()</code> que serve para demonstrar a estrutura de um objeto, como o nome das colunas e suas classes:</p>
<pre class="r"><code>str(dados)</code></pre>
<pre><code>## &#39;data.frame&#39;:    156 obs. of  7 variables:
##  $ especie: Factor w/ 2 levels &quot;azul&quot;,&quot;laranja&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ sexo   : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ FL     : num  8.1 8.8 9.2 9.6 10.8 11.6 11.8 12.3 12.6 12.8 ...
##  $ RW     : num  6.7 7.7 7.8 7.9 9 9.1 10.5 11 10 10.9 ...
##  $ CL     : num  16.1 18.1 19 20.1 23 24.5 25.2 26.8 27.7 27.4 ...
##  $ CW     : num  19 20.8 22.4 23.1 26.5 28.4 29.3 31.5 31.7 31.5 ...
##  $ BD     : num  7 7.4 7.7 8.2 9.8 10.4 10.3 11.4 11.4 11 ...</code></pre>
<pre class="r"><code>str(dados2)</code></pre>
<pre><code>## &#39;data.frame&#39;:    156 obs. of  7 variables:
##  $ especie: chr  &quot;azul&quot; &quot;azul&quot; &quot;azul&quot; &quot;azul&quot; ...
##  $ sexo   : chr  &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; ...
##  $ FL     : num  8.1 8.8 9.2 9.6 10.8 11.6 11.8 12.3 12.6 12.8 ...
##  $ RW     : num  6.7 7.7 7.8 7.9 9 9.1 10.5 11 10 10.9 ...
##  $ CL     : num  16.1 18.1 19 20.1 23 24.5 25.2 26.8 27.7 27.4 ...
##  $ CW     : num  19 20.8 22.4 23.1 26.5 28.4 29.3 31.5 31.7 31.5 ...
##  $ BD     : num  7 7.4 7.7 8.2 9.8 10.4 10.3 11.4 11.4 11 ...</code></pre>
<p>Podemos também visualizar algumas linhas iniciais e finais do objeto importado através de duas funções auxiliares:</p>
<pre class="r"><code>head(dados)</code></pre>
<pre><code>##   especie sexo   FL  RW   CL   CW   BD
## 1    azul    M  8.1 6.7 16.1 19.0  7.0
## 2    azul    M  8.8 7.7 18.1 20.8  7.4
## 3    azul    M  9.2 7.8 19.0 22.4  7.7
## 4    azul    M  9.6 7.9 20.1 23.1  8.2
## 5    azul    M 10.8 9.0 23.0 26.5  9.8
## 6    azul    M 11.6 9.1 24.5 28.4 10.4</code></pre>
<pre class="r"><code>tail(dados)</code></pre>
<pre><code>##     especie sexo   FL   RW   CL   CW   BD
## 151 laranja    F 21.3 18.4 43.8 48.4 20.0
## 152 laranja    F 21.4 18.0 41.2 46.2 18.7
## 153 laranja    F 21.7 17.1 41.7 47.2 19.6
## 154 laranja    F 21.9 17.2 42.6 47.4 19.5
## 155 laranja    F 22.5 17.2 43.0 48.7 19.8
## 156 laranja    F 23.1 20.2 46.2 52.5 21.1</code></pre>
</div>
</div>
<div id="exercicios-1" class="section level2">
<h2>Exercícios</h2>
<ol style="list-style-type: decimal">
<li>Baixe os seguintes arquivos:</li>
</ol>
<ul>
<li><a href="http://www.leg.ufpr.br/~fernandomayer/dados/gam01.txt">gam01.txt</a></li>
<li><a href="http://www.leg.ufpr.br/~fernandomayer/dados/exemplo02.txt">exemplo02.txt</a></li>
<li><a href="http://www.leg.ufpr.br/~fernandomayer/dados/dadosfic.csv">dadosfic.csv</a></li>
<li><a href="http://www.leg.ufpr.br/~walmes/data/compingest.txt">compingest.txt</a></li>
<li><a href="http://www.leg.ufpr.br/~walmes/data/biomassa.txt">biomassa.txt</a></li>
</ul>
<p>Coloque os arquivos em um local apropriado (de preferência no mesmo diretório de trabalho que voce definiu no início da sessão), faça a importação usando a função <code>read.table()</code>, e confira a estrutura dos dados com <code>str()</code>.</p>
<p>As funções permitem ainda ler dados diretamente disponíveis na <em>web</em>. Por exemplo, os dados do exemplo poderiam ser lidos diretamente com o comando a seguir, sem a necessidade de copiar primeiro os dados para algum local no computador do usuário:</p>
<pre class="r"><code>dados &lt;- read.csv2(&quot;http://www.leg.ufpr.br/~fernandomayer/dados/crabs.csv&quot;)</code></pre>
<p>Para maiores informações consulte a documentação desta função com <code>read.table()</code>. Embora <code>read.table()</code> seja provavelmente a função mais utilizada existem outras que podem ser úteis e determinadas situações:</p>
<ul>
<li><code>read.fwf()</code> é conveniente para ler <em>fixed width formats</em></li>
<li><code>read.fortran()</code> é semelhante à anterior porém usando o estilo Fortran de especificação das colunas</li>
<li><code>read.csv()</code>, <code>read.csv2()</code>, <code>read.delim()</code> e <code>read.delim2()</code>: estas funções são praticamente iguais a <code>read.table()</code> porém com diferentes opções padrão. Em geral (mas não sempre) dados em formato <code>csv</code> usado no Brasil são lidos diretamente com <code>read.csv2()</code>.</li>
</ul>
</div>
<div id="exercicios-2" class="section level2">
<h2>Exercícios</h2>
<ol style="list-style-type: decimal">
<li>Leia os seguintes conjuntos de dados disponíves <em>on-line</em>:</li>
</ol>
<ul>
<li><a href="http://www.leg.ufpr.br/~walmes/data/banana.txt" class="uri">http://www.leg.ufpr.br/~walmes/data/banana.txt</a></li>
<li><a href="http://www.leg.ufpr.br/~walmes/data/triathlon.txt" class="uri">http://www.leg.ufpr.br/~walmes/data/triathlon.txt</a></li>
</ul>
<p>usando a função <code>read.table()</code>, e confira a estrutura dos dados com <code>str()</code>.</p>
</div>
<div id="entrada-de-dados-atraves-da-area-de-transferencia" class="section level2">
<h2>Entrada de dados através da área de transferência</h2>
<p>Um mecanismos comum para copiar dados de um programa psara o outro é usando a <strong>área de transferência</strong> (ou <em>clipboard</em>). Tipicamente isto é feito com o mecanismo de copia-e-cola, ou seja-se, marca-se os dados desejados em algum aplicativo (editor, planilha, página web, etc), usa-se o mecanismo de COPIAR (opção no menu do programa que muitas vezes corresponde o teclar <kbd>Ctrl</kbd> + <kbd>c</kbd>), o que transfere os dados para a área de transferência. Funções como <code>scan()</code>, <code>read.table()</code> e outras podem ser usades apra ler os dados diretamente da área de transferência passando-se a opção <code>&quot;clipboard&quot;</code> ao primeiro argumento. Por exemplo, os seguintes dados:</p>
<pre><code>ID  Grupo  Gasto  Ano
23      A  25,4   11
12      B  12,3   09
23      A  19,8   07</code></pre>
<p>podem ser marcados e copiados para área de transferência e lidos diretamente com</p>
<pre class="r"><code>dados.clip &lt;- read.table(&quot;clipboard&quot;, header = TRUE, dec = &quot;,&quot;)</code></pre>
<pre class="r"><code>str(dados.clip)</code></pre>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  4 variables:
##  $ ID   : int  23 12 23
##  $ Grupo: Factor w/ 2 levels &quot;A&quot;,&quot;B&quot;: 1 2 1
##  $ Gasto: num  25.4 12.3 19.8
##  $ Ano  : int  11 9 7</code></pre>
</div>
<div id="importando-dados-diretamente-de-planilhas" class="section level2">
<h2>Importando dados diretamente de planilhas</h2>
<p>Existem alguns pacotes disponíveis que podem ler dados diretamente de planilhas do MS Excel. No entanto, estes pacotes geralmente possuem particularidades quanto ao sistema operacional e demais dependências para funcionar corretamente.</p>
<p>Um destes pacotes, é o <strong>gdata</strong>, que funciona em diversos sistemas operacionais mas depende da linguagem Perl estar instalada. Por exemplo, para ler o conjuto de dados <code>crabs</code> armazenado em uma planilha do Excel, podemos usar</p>
<pre class="r"><code>## Carrega o pacote
library(gdata)</code></pre>
<pre><code>## gdata: read.xls support for &#39;XLS&#39; (Excel 97-2004) files ENABLED.</code></pre>
<pre><code>## </code></pre>
<pre><code>## gdata: read.xls support for &#39;XLSX&#39; (Excel 2007+) files ENABLED.</code></pre>
<pre><code>## 
## Attaching package: &#39;gdata&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     nobs</code></pre>
<pre><code>## The following object is masked from &#39;package:utils&#39;:
## 
##     object.size</code></pre>
<pre class="r"><code>## Leitura diretamente do Excel
dados.xls &lt;- read.xls(&quot;dados/crabs.xls&quot;, sheet = &quot;Plan1&quot;,
                      header = TRUE, dec = &quot;,&quot;)
## Estrutura
str(dados.xls)</code></pre>
<pre><code>## &#39;data.frame&#39;:    156 obs. of  7 variables:
##  $ especie: Factor w/ 2 levels &quot;azul&quot;,&quot;laranja&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ sexo   : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ FL     : num  8.1 8.8 9.2 9.6 10.8 11.6 11.8 12.3 12.6 12.8 ...
##  $ RW     : num  6.7 7.7 7.8 7.9 9 9.1 10.5 11 10 10.9 ...
##  $ CL     : num  16.1 18.1 19 20.1 23 24.5 25.2 26.8 27.7 27.4 ...
##  $ CW     : num  19 20.8 22.4 23.1 26.5 28.4 29.3 31.5 31.7 31.5 ...
##  $ BD     : num  7 7.4 7.7 8.2 9.8 10.4 10.3 11.4 11.4 11 ...</code></pre>
<p>Outros pacotes que possuem funções similares são: <strong>openxlsx</strong>, <strong>xlsx</strong>, e <strong>XLConnect</strong>.</p>
<p>Estruturas de dados mais complexas são tipicamente armazenadas nos chamados DBMS (<em>database management system</em>) ou RDBMS (<em>relational database management system</em>). Aguns exemplos são Oracle, Microsoft SQL server, MySQL, PostgreSQL, Microsoft Access, dentre outros. O R possuiu ferramentas implementadas em pacotes para acesso a estes sistemas gerenciadores.</p>
<p>Para mais detalhes consulte o manual <a href="http://cran-r.c3sl.ufpr.br/doc/manuals/r-release/R-data.html">R Data Import/Export</a> e a documentação dos pacotes que implementam tal funcionalidade. Alguns destes pacotes disponíveis são: <strong>RODBC</strong>, <strong>DBI</strong>, <strong>RMySQL</strong>, <strong>RPostgreSQL</strong>, <strong>ROracle</strong>, <strong>RNetCDF</strong>, <strong>RSQLite</strong>, dentre outros.</p>
</div>
<div id="carregando-dados-ja-disponiveis-no-r" class="section level2">
<h2>Carregando dados já disponíveis no R</h2>
<p>O R já possui alguns conjuntos de dados que estão disponíeis logo após a instalação. Estes dados são também objetos que precisam ser carregados para ficarem disponiveis para o usuário. Normalmente, estes conjuntos de dados são para uso de exemplo de funções.</p>
<p>Para carregar conjuntos de dados que são disponibilizados com o R, use o comando <code>data()</code>. Por exemplo, abaixo mostramos como carregar o conjunto <code>mtcars</code> que está no pacote <strong>datasets</strong>.</p>
<pre class="r"><code>## Objetos criados até o momento nesta seção
ls()</code></pre>
<pre><code>## [1] &quot;dados&quot;      &quot;dados.clip&quot; &quot;dados.xls&quot;  &quot;dados2&quot;     &quot;texto&quot;     
## [6] &quot;x&quot;          &quot;y&quot;</code></pre>
<pre class="r"><code>## Carregaga a base de dados mtcars
data(mtcars)
## Note como agora o objeto mtcars fica disponível na sua área de
## trabalho
ls()</code></pre>
<pre><code>## [1] &quot;dados&quot;      &quot;dados.clip&quot; &quot;dados.xls&quot;  &quot;dados2&quot;     &quot;mtcars&quot;    
## [6] &quot;texto&quot;      &quot;x&quot;          &quot;y&quot;</code></pre>
<pre class="r"><code>## Estrutura e visualização do objeto
str(mtcars)</code></pre>
<pre><code>## &#39;data.frame&#39;:    32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<pre class="r"><code>head(mtcars)</code></pre>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>As bases de dados também possuem páginas de documentação para explicar o que são os dados e as colunas correspondentes. Para ver o que são os dados do <code>mtcars</code> por exemplo, veja <code>?mtcars</code>.</p>
<p>O conjunto <code>mtcars</code> é disponibilizado prontamente pois faz parte do pacote <strong>datasets</strong>, que por padrão é sempre carregado na inicialização do R. No entanto, existem outros conjuntos de dados, disponibilizados por outros pacotes, que precisam ser carregados para que os dados possam ser disponibilizados. Por exemplo, os dados do objeto <code>topo</code> são do pacote <strong>MASS</strong>. Se tentarmos fazer</p>
<pre class="r"><code>data(topo)</code></pre>
<pre><code>## Warning in data(topo): data set &#39;topo&#39; not found</code></pre>
<p>Portanto, precisamos primeiro carregar o pacote <strong>MASS</strong> com</p>
<pre class="r"><code>library(MASS)</code></pre>
<p>e agora podemos carregar o objeto <code>topo</code> com</p>
<pre class="r"><code>data(topo)
ls()</code></pre>
<pre><code>## [1] &quot;dados&quot;      &quot;dados.clip&quot; &quot;dados.xls&quot;  &quot;dados2&quot;     &quot;mtcars&quot;    
## [6] &quot;texto&quot;      &quot;topo&quot;       &quot;x&quot;          &quot;y&quot;</code></pre>
<pre class="r"><code>str(topo)</code></pre>
<pre><code>## &#39;data.frame&#39;:    52 obs. of  3 variables:
##  $ x: num  0.3 1.4 2.4 3.6 5.7 1.6 2.9 3.4 3.4 4.8 ...
##  $ y: num  6.1 6.2 6.1 6.2 6.2 5.2 5.1 5.3 5.7 5.6 ...
##  $ z: int  870 793 755 690 800 800 730 728 710 780 ...</code></pre>
<p>A função <code>data()</code> pode ainda ser usada para listar os conjutos de dados disponíveis.</p>
<pre class="r"><code>data()</code></pre>
<p>e também pode ser útil paa listar os conjuntos de dados disponíveis para um pacote específico, por exemplo</p>
<pre class="r"><code>data(package = &quot;nlme&quot;)</code></pre>
</div>
<div id="importando-dados-de-outros-programas" class="section level2">
<h2>Importando dados de outros programas</h2>
<p>É possível ler dados diretamente de outros formatos que não seja texto (ASCII). Isto em geral é mais eficiente e requer menos memória do que converter para formato texto. Há funções para importar dados diretamente de EpiInfo, Minitab, S-PLUS, SAS, SPSS, Stata, Systat e Octave. Além disto é comum surgir a necessidade de importar dados de planilhas eletrônicas. Muitas funções que permitem a importação de dados de outros programas são implementadas no pacote <strong>foreign</strong>.</p>
<p>A seguir listamos algumas (não todas!) destas funções:</p>
<ul>
<li><code>read.dbf()</code> para arquivos DBASE</li>
<li><code>read.epiinfo()</code> para arquivos .REC do Epi-Info</li>
<li><code>read.mtp()</code> para arquivos “Minitab Portable Worksheet”</li>
<li><code>read.S()</code> para arquivos do S-PLUS, e <code>restore.data()</code> para “dumps” do S-PLUS</li>
<li><code>read.spss()</code> para dados do SPSS</li>
<li><code>read.systat()</code> para dados do SYSTAT</li>
<li><code>read.dta()</code> para dados do STATA</li>
<li><code>read.octave()</code> para dados do OCTAVE (um clone do MATLAB)</li>
<li>Para dados do SAS há ao menos duas alternativas:
<ul>
<li>O pacote <strong>foreign</strong> disponibiliza <code>read.xport()</code> para ler do formato TRANSPORT do SAS e <code>read.ssd()</code> pode escrever dados permanentes do SAS (<code>.ssd</code> ou <code>.sas7bdat</code>) no formato TRANSPORT, se o SAS estiver disponível no seu sistema e depois usa internamente <code>read.xport()</code> para ler os dados no R.</li>
<li>O pacote <strong>Hmisc</strong> disponibiliza <code>sas.get()</code> que também requer o SAS no sistema.</li>
</ul></li>
</ul>
<p>Para mais detalhes consulte a documentação de cada função e/ou o manual <a href="http://cran-r.c3sl.ufpr.br/doc/manuals/r-release/R-data.html">R Data Import/Export</a>.</p>
</div>
</div>
<div id="saida-de-dados-do-r" class="section level1">
<h1>Saída de dados do R</h1>
<p>Para exportar objetos do R, usamos a função <code>write.table()</code>, que possui argumentos parecidos com aqueles da função <code>read.table()</code>.</p>
<p>A função <code>write.table()</code> é capaz de criar um arquivo de texto no formato <code>txt</code> ou <code>csv</code>, com as especificações definidas pelos argumentos.</p>
<p>Para ilustrar o uso desta função, considerer o conjunto de dados <code>iris</code></p>
<pre class="r"><code>data(iris)
str(iris)</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>Podemos exportar esse data frame com</p>
<pre class="r"><code>write.table(iris, file = &quot;dados/iris.csv&quot;)</code></pre>
<p>Por padrão, o arquivo resultante tem colunas separadas por espaço, o separador de decimal é ponto, e os nomes das linhas são também incluídos (o que geralmente é desnecessário). Para alterar essa configuração podemos fazer</p>
<pre class="r"><code>write.table(iris, file = &quot;dados/iris.csv&quot;, row.names = FALSE,
            sep = &quot;;&quot;, dec = &quot;,&quot;)</code></pre>
<p>Os argumentos são</p>
<ul>
<li><code>iris</code>: o nome do objeto a ser exportado (matriz ou data frame)</li>
<li><code>&quot;iris.csv&quot;</code>: nome do arquivo a ser gerado. (Considerando que o arquivo <code>iris.csv</code> será criado dentro do diretório <code>dados</code>).</li>
<li><code>row.names = FALSE</code>: para eliminar o nome das linhas do objeto (geralmente desnecessário), como retornado por <code>row.names()</code></li>
<li><code>sep = &quot;;&quot;</code>: o separador de colunas (também pode ser <code>&quot;\t&quot;</code> para tabulação e <code>&quot;&quot;</code> para espaços)</li>
<li><code>dec = &quot;,&quot;</code>: o separador de decimais</li>
</ul>
<p>Note que o objeto a ser exportado (nesse caso <code>iris</code>) deve ser em formato tabular, ou seja, uma matriz ou data frame. Outras classes de objetos podem ser exportadas, mas haverá uma coerção para data frame, o que pode fazer com que o resultado final ão seja o esperado.</p>
<p>Assim como <code>read.table()</code> possui as funções <code>read.csv()</code> e <code>read.csv2()</code>, a função <code>write.table()</code> possui as funções <code>write.table()</code> e <code>write.table2()</code> como <em>wrappers</em>. O comando acima também poderia ser executado como</p>
<pre class="r"><code>write.csv2(iris, file = &quot;dados/iris.csv&quot;, row.names = FALSE)</code></pre>
<p>Note que <code>row.names = FALSE</code> ainda é necessário para eliminar os nomes das linhas.</p>
<p>O pacote <strong>foreign</strong> também possui funções para exportar para uma variedade de formatos. Veja a documentação em <code>help(package = &quot;foreign&quot;)</code>. Os pacotes para ler dados diretamente de arquivos do MS Excel mencionados acima também possuem funções para exportar diretamente para esse formato.</p>
<div id="exercicios-3" class="section level2">
<h2>Exercícios</h2>
<ol style="list-style-type: decimal">
<li>Considere a tabela abaixo com o resultado de uma pesquisa que avaliou o número de fumates e não fumantes por sexo. <!-- Gerado em http://www.tablesgenerator.com/html_tables -->
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg .tg-s6z2{text-align:center}
.tg .tg-baqh{text-align:center;vertical-align:top}
.tg .tg-e3zv{font-weight:bold}
.tg .tg-hgcj{font-weight:bold;text-align:center}
.tg .tg-yw4l{vertical-align:top}
.tg .tg-9hbo{font-weight:bold;vertical-align:top}
</style>
<table class="tg">
<tr>
<th class="tg-031e">
</th>
<th class="tg-hgcj" colspan="2">
Sexo
</th>
</tr>
<tr>
<td class="tg-e3zv">
Condição
</td>
<td class="tg-hgcj">
Masculino
</td>
<td class="tg-hgcj">
Feminino
</td>
</tr>
<tr>
<td class="tg-e3zv">
Fumante
</td>
<td class="tg-s6z2">
49
</td>
<td class="tg-s6z2">
54
</td>
</tr>
<tr>
<td class="tg-031e">
</td>
<td class="tg-s6z2">
64
</td>
<td class="tg-s6z2">
61
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
37
</td>
<td class="tg-baqh">
79
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
52
</td>
<td class="tg-baqh">
64
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
68
</td>
<td class="tg-baqh">
29
</td>
</tr>
<tr>
<td class="tg-9hbo">
Não fumante
</td>
<td class="tg-baqh">
27
</td>
<td class="tg-baqh">
40
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
58
</td>
<td class="tg-baqh">
39
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
52
</td>
<td class="tg-baqh">
44
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
41
</td>
<td class="tg-baqh">
34
</td>
</tr>
<tr>
<td class="tg-yw4l">
</td>
<td class="tg-baqh">
30
</td>
<td class="tg-baqh">
44
</td>
</tr>
</table>
<!-- |             |    Sexo   |          | -->
<!-- |-------------|:---------:|:--------:| -->
<!-- | Condição    | Masculino | Feminino | -->
<!-- | Fumante     |     49    |    54    | -->
<!-- |             |     64    |    61    | -->
<!-- |             |     37    |    79    | -->
<!-- |             |     52    |    64    | -->
<!-- |             |     68    |    29    | -->
<!-- | Não fumante |     27    |    40    | -->
<!-- |             |     58    |    39    | -->
<!-- |             |     52    |    44    | -->
<!-- |             |     41    |    34    | -->
<!-- |             |     30    |    44    | --></li>
<li>Digite estes dados em uma planilha eletrônica em um formato apropriado para um data frame do R, e salve em um arquivo <code>csv</code>.</li>
<li>Importe esse arquivo para o R com <code>read.table()</code>.</li>
<li>Crie uma nova coluna no objeto que contém estes dados, sendo a coluna com o número de pessoas multiplicada por 2.</li>
<li>Exporte esse novo objeto usando a função <code>write.table()</code>.</li>
<li>Tente criar esse mesmo conjunto de dados usando comandos do R (ex.: <code>c()</code>, <code>rep()</code>, <code>data.frame()</code>, etc.)</li>
</ol>
</div>
</div>
<div id="usando-os-formatos-textual-e-binario-para-lerescrever-dados" class="section level1">
<h1>Usando os formatos textual e binário para ler/escrever dados</h1>
<p>As formas mais comuns de entrada de dados no R são através da entrada direta pelo teclado (e.g. <code>c()</code> ou <code>scan()</code>), ou pela importação de arquivos de texto (e.g. <code>read.table()</code>). No etanto, ainda existem mais dois formatos par armazenar dados para leitura no R: o textual e o binário.</p>
<p>O formato binário é aquele armazenado em um arquivo binário, ou seja, um arquivo que contém apenas 0s e 1s, e possui um formato específico que só pode ser lido por determinado <em>software</em> ou função. É o oposto de um arquivo de texto, por exemplo, que podemos abrir e editar em qualquer prorama que edite texto puro. O formato textual é o intermediário entre o texto puro e o binário. Os dados em formato textual são apresentados como texto puro, mas contém informações adicionais, chamados de <em>metadados</em>, que preservam toda a estrutura dos dados, como as classes de cada coluna de um data frame.</p>
<div id="formato-textual" class="section level2">
<h2>Formato textual</h2>
<p>O formato textual é muito útil para compartilhar conjuntos de dados que não são muito grandes, e onde a formatação (leia-se: classes de objetos) precisa ser mantida.</p>
<p>Para criar um conjunto de dados no formato textual, usamos a função <code>dput()</code>. Vamos criar um data frame de exemplo e ver o resultado da chamada dessa função:</p>
<pre class="r"><code>da &lt;- data.frame(A = c(1, 2), B = c(&quot;a&quot;, &quot;b&quot;))
dput(da)</code></pre>
<pre><code>## structure(list(A = c(1, 2), B = structure(1:2, .Label = c(&quot;a&quot;, 
## &quot;b&quot;), class = &quot;factor&quot;)), .Names = c(&quot;A&quot;, &quot;B&quot;), row.names = c(NA, 
## -2L), class = &quot;data.frame&quot;)</code></pre>
<p>Note que o resultado de <code>dput()</code> é no formato do R, e preserva metadados como as classes do objeto e de cada coluna, e os nomes das linhas e colunas.</p>
<p>Outas classes de objetos são facilmente preservadas quando armazenadas com o resultado de <code>dput()</code>. Por exemplo, uma matriz:</p>
<pre class="r"><code>ma &lt;- matrix(1:9, ncol = 3)
dput(ma)</code></pre>
<pre><code>## structure(1:9, .Dim = c(3L, 3L))</code></pre>
<p>E uma lista:</p>
<pre class="r"><code>la &lt;- list(da, ma)
dput(la)</code></pre>
<pre><code>## list(structure(list(A = c(1, 2), B = structure(1:2, .Label = c(&quot;a&quot;, 
## &quot;b&quot;), class = &quot;factor&quot;)), .Names = c(&quot;A&quot;, &quot;B&quot;), row.names = c(NA, 
## -2L), class = &quot;data.frame&quot;), structure(1:9, .Dim = c(3L, 3L)))</code></pre>
<p>A saída da função <code>dput()</code> pode ser copiada para um script do R, para garantir que qualquer pessoa que venha usar o código (incluindo você no futuro), usará os dados no formato correto (esperado). Isso é muito importante para a <strong>pesquisa reproduzível</strong>!</p>
<p>A saída de <code>dput()</code> também pode ser salva diretamente em um arquivo de script do R, por exemplo,</p>
<pre class="r"><code>dput(da, file = &quot;da.R&quot;)</code></pre>
<p>irá criar o arquivo <code>da.R</code> com o resultado da função. Para importar os dados salvos dessa forma, usamos a função <code>dget()</code>,</p>
<pre class="r"><code>da2 &lt;- dget(file = &quot;da.R&quot;)
da2</code></pre>
<pre><code>##   A B
## 1 1 a
## 2 2 b</code></pre>
<p>Múltiplos objetos podem ser armazenados em formato textual usando a função <code>dump()</code>.</p>
<pre class="r"><code>dump(c(&quot;da&quot;, &quot;ma&quot;, &quot;la&quot;), file = &quot;dados.R&quot;)</code></pre>
<p>Note que os objetos são passados como um vetor de caracteres, e um arquivo chamado <code>dados.R</code> é criado com todos os objetos no formato textual. Para importar estes objetos para uma sessão do R, usamos a função <code>source()</code>,</p>
<pre class="r"><code>source(&quot;dados.R&quot;)</code></pre>
<p>que já cria os objetos na sua área de trabalho com os mesmos nomes e atributos como foram armazenados.</p>
</div>
<div id="formato-binario" class="section level2">
<h2>Formato binário</h2>
<p>Armazenar dados em formato binário é vantajoso quando não há uma forma “fácil” de armazenar os dados em formato de texto puro ou textual. Além disso, algumas vezes o formato binário possui maior eficiência em termos de velocodade de leitura/escrita, dependendo dos dados. Outra vantagem é que valores numéricos geralmente perdem precisão quando armazenados em texto ou textual, enquanto que o formato binário preserva toda a precisão (embora essa perda de precisão seja desprezível na maioria dos casos).</p>
<p>Para salvar um objeto contendo dados no R, usamos a função <code>save()</code>. Por exemplo, para armazenar o objeto <code>da</code> criado acima, fazemos</p>
<pre class="r"><code>save(da, file = &quot;dados.rda&quot;)</code></pre>
<p>Esse comando irá criar o arquivo (binário) <code>da.rda</code>. Note que a extensão <code>.rda</code> é comumente utilizada para dados binários do R, mas não é única.</p>
<p>Paa salvar mais de um objeto no mesmo arquivo, basta passar os nomes na mesma função</p>
<pre class="r"><code>save(da, ma, file = &quot;dados.rda&quot;)</code></pre>
<p>A função <code>save.image()</code> pode ser utilizada se a intenção é salvar <strong>todod</strong> os objetos criados na sua área de trabalho (isso inclui qualquer objeto, não só os conjuntos de dados). Nesse caso, podemos fazer</p>
<pre class="r"><code>save.image(file = &quot;workspace.RData&quot;)</code></pre>
<p>Note que quando foi utilizada a função <code>save()</code>, a extensão do arquivo foi <code>rda</code>, e com <code>save.image()</code> foi <code>RData</code>. Isso é uma convenção comum de arquivos binários do R, mas não é obrigatório. Qualquer uma das extensões funciona em ambas as funções.</p>
<p>Para carregar os conjuntos de dados (ou de forma mais geral, os objetos) armazenados em formato binário, usamos a função <code>load()</code></p>
<pre class="r"><code>load(&quot;dados.rda&quot;)
load(&quot;workspace.RData&quot;)</code></pre>
<p>Dessa forma, os objetos já estarão disponpiveis na sua área de trabalho.</p>
</div>
</div>
<div id="informacoes-sobre-diretorios-e-arquivos" class="section level1">
<h1>Informações sobre diretórios e arquivos</h1>
<p>O R possui uma variedade de funções para mostrar informações sobre arquivos e diretórios. Alguns exemplos são:</p>
<ul>
<li><code>file.info()</code> mostra o tamanho do arquivo, data de criação, …</li>
<li><code>dir()</code> mostra todos os arquivos presentes em um diretório (tente com <code>recursive = TRUE</code>)</li>
<li><code>file.exists()</code> retorna <code>TRUE</code> ou <code>FALSE</code> para a presença de um arquivo</li>
<li><code>getwd()</code> e <code>setwd()</code> para verificar e altear o diretório de trabalho</li>
</ul>
<p>Veja <code>?files</code> para uma lista copleta de funções úteis para manipular arquivos de dentro do R.</p>
<!-- Referencias -->
</div>

<center>
  <hr width="100%" size="3px">
  <p> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.pt_BR">
      <img src="img/CC_by-nc-sa_80x15.png" alt="Licença Creative Commons 4.0"> </a>
  </p>
  <p> <font size="2"> Este conteúdo
      está disponível por meio da Licença Creative Commons 4.0 </font>
  </p>
</center>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
